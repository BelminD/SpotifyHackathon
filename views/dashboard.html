<!DOCTYPE html>
<html>
<head>
    <title>Spotify API Playground</title>
    <meta name="description" content="An introduction to interacting with the Spotify API">
    <link id="favicon" rel="icon" href="https://cdn.glitch.com/project-avatar/b96c147f-8065-40a6-9908-4fcafce2a361.png"
          type="image/x-icon">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://sp-bootstrap.global.ssl.fastly.net/8.0.0/sp-bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/public/style.css">
    <link rel="stylesheet" href="/node_modules/angular-material/angular-material.min.css"/>


    <script src="/node_modules/angular/angular.min.js"></script>
    <script src="/node_modules/angular-animate/angular-animate.min.js"></script>
    <script src="/node_modules/angular-aria/angular-aria.min.js"></script>
    <script src="/node_modules/angular-messages/angular-messages.min.js"></script>
    <script src="/node_modules/angular-material/angular-material.min.js"></script>
    <script src="https://sdk.scdn.co/spotify-player.js"></script>

    <script src="/public/main.js"></script>
    <script type=module src="/public/dashboard.controller.js"></script>

</head>

<div ng-app="spotifyApp" ng-strict-di ng-controller="MainController as vm" ng-cloak layout="column">

    <md-toolbar class="md-warn" layout="row">
        <div class="md-toolbar-tools">

            <md-input-container>
                <label>Song title</label>
                <input name="message"
                       ng-model="newSong"
                       placeholder="Seach for a song"
                       ng-keyup="$event.keyCode == 13 ? searchForSong() : null"/>
            </md-input-container>

        </div>
    </md-toolbar>

    <md-progress-linear md-mode="indeterminate" ng-if="loading"></md-progress-linear>


    <md-content>
        <md-list>
            <md-list-item ng-repeat="item in newTracks" ng-click="postSong(item.id)">
                <p>{{item.name}}</p>
            </md-list-item>
        </md-list>
    </md-content>

    <md-content flex layout-padding>
        <md-grid-list
                md-cols="1" md-cols-sm="2" md-cols-md="3" md-cols-gt-md="6"
                md-row-height-gt-md="1:1" md-row-height="4:3"
                md-gutter="8px" md-gutter-gt-sm="4px" >

            <md-grid-tile ng-repeat="item in tracks" style="background: cadetblue">

                <div layout="column">

                    <div layout="column">
                        <span class="md-headline">{{item.track.name | limitTo: 20}}</span>
                        <span class="md-subhead">{{item.track.artists[0]['name']}}</span>
                    </div>

                    <div layout="row" layout-align="end center">
                        <md-button ng-click="happy(item)">
                            <md-icon md-svg-icon="/public/svg/happy.svg">{{item.emotions.happy}}</md-icon>
                            <span>{{item.emotions.happy}}</span>
                        </md-button>

                        <md-button ng-click="sad(item)">
                            <md-icon md-svg-icon="/public/svg/sad.svg">{{item.emotions.happy}}</md-icon>
                            <span>{{item.emotions.sad}}</span>
                        </md-button>

                        <md-button ng-click="playStop(item)">
                            <md-icon md-svg-icon="/public/svg/play.svg" ng-if="!isPlaying"></md-icon>
                            <md-icon md-svg-icon="/public/svg/pause.svg" ng-if="isPlaying"></md-icon>
                        </md-button>


                    </div>

                </div>


            </md-grid-tile>
        </md-grid-list>



    </md-content>

    <!-- Your web-app is https, so your scripts need to be too -->
    <script src="https://code.jquery.com/jquery-2.2.1.min.js"
            integrity="sha256-gvQgAFzTH6trSrAWoH1iPo9Xc96QxSZ3feW6kem+O00="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tracking.js/1.1.3/tracking-min.js"></script>
    <!--<script type="module" src="/public/dashboard.js"></script>-->
    <script type="module" src="/public/dashboard.js"></script>

</div>
</html>
